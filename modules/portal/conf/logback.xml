<configuration>
    
  <conversionRule conversionWord="coloredLevel" converterClass="play.api.libs.logback.ColoredLevel" />

  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">
      <providers>
        <timestamp>
          <timeZone>UTC</timeZone>
        </timestamp>
        <message/>
        <nestedField>
          <fieldName>labels</fieldName>
          <providers>
            <globalCustomFields>
              <customFields>{"application": "vinyldns-portal", "env": "dev"}</customFields>
            </globalCustomFields>
          </providers>
        </nestedField>
        <nestedField>
          <fieldName>ecs</fieldName>
          <providers>
            <globalCustomFields>
              <customFields>{"version": "1.0.0"}</customFields>
            </globalCustomFields>
          </providers>
        </nestedField>
        <arguments/>
        <nestedField>
          <fieldName>log</fieldName>
          <providers>
            <logLevel/>
            <loggerName />
            <callerData/>
          </providers>
        </nestedField>
        <nestedField>
          <fieldName>process</fieldName>
          <providers>
            <nestedField>
              <fieldName>thread</fieldName>
              <providers>
                <threadName>
                  <fieldName>name</fieldName>
                </threadName>
              </providers>
            </nestedField>
          </providers>
        </nestedField>
      </providers>
    </encoder>
  </appender>
  <!--
    The logger name is typically the Java/Scala package name.
    This configures the log level to log at for a package and its children packages.
  -->
  <logger name="play" level="INFO" />
  <logger name="application" level="DEBUG" />

  <root level="ERROR">
    <appender-ref ref="STDOUT" />
  </root>

</configuration>
